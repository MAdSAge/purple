package practest;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.ArrayList;

class QueryClass {

	public static void main(String args[]) throws ClassNotFoundException, SQLException {
		
	QueryClass rin = new QueryClass();
	ArrayList<quesion_data> ioa = rin.Q_query("Abdominal cavity and Peritoneum (review)");
	quesion_data poo=ioa.get(0);
	
	System.out.println(poo.getQuestion());

	}

	ArrayList<quesion_data> Q_query(String chapter_name) throws ClassNotFoundException, SQLException {

		ArrayList<quesion_data> ipper = new ArrayList<quesion_data>();

		Connection c = null;
		Statement stmt = null;
		Class.forName("org.sqlite.JDBC");
		c = DriverManager.getConnection("jdbc:sqlite:src/practest/resorces/dataBases/b2e2n2.db");

		c.setAutoCommit(false);
		stmt = c.createStatement();
		ResultSet rs = stmt.executeQuery("select * from proper where field7="+chapter_name+";");
		while (rs.next()) {

			String question = rs.getString(1);
			String OptionA = rs.getString(2);
			String OptionB = rs.getString(3);
			String OptionC = rs.getString(4);
			String OptionD = rs.getString(5);
			String CorrOPT = rs.getString(6);
			String Explant = rs.getString(9);
			String images = rs.getString(10);

			quesion_data pip = new quesion_data(question, OptionA, OptionB, OptionC, OptionD, CorrOPT, Explant, images);
			ipper.add(pip);
		}
		rs.close();
		stmt.close();
		c.close();

		return ipper;

	}

}
